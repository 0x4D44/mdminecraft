# Feature Comparison — mdminecraft vs Vanilla Minecraft (Java Edition)

**Date:** 2025-12-23  
**mdminecraft snapshot:** `588b4874e484b6db18b8d29b54052c12aff7fbe4` (+ local changes in working tree)  
**Plan:** `wrk_docs/2025.12.23 - PLN - Feature Gap Closure Plan toward Vanilla Minecraft.md`  
**Scope:** functional/system differences (not asset/IP parity); target is “feel parity” with selective “rule parity”.

---

## 0) Executive summary

mdminecraft is already “Minecraft-shaped” (survival loop, crafting, fluids, redstone, dimensions, bosses, deterministic worldtests), but it is **not** canonical Minecraft:

- **Content breadth is smaller** (blocks/items/mobs/biomes/structures) and many systems are **lite/simplified** compared to vanilla.
- **Rendering/model rules differ** (custom meshing + greedy meshing; limited render layers; simplified fluid visuals).
- **Rules/edge-cases differ** (redstone ordering, entity AI, block update quirks, combat timing, spawn rules, etc.).
- **Formats/protocol differ intentionally** (world format, networking, content pack formats).

This document lists the **remaining deltas** that matter most for “vanilla feel”.

---

## 1) Top-level differences (highest player impact)

### 1.1 Content catalog (breadth)

Vanilla has hundreds of blocks/items and a very large entity catalog; mdminecraft implements a smaller subset. Consequences:

- Fewer building palettes (block families, variants, decorative blocks).
- Fewer “identity” interactions (many special-case blocks, mobs, and items are absent or simplified).
- Progression is present but **not identical** (vanilla’s gating and structure-driven acquisition differs).

**Repo facts (indicative counts)**

- Configured blocks: `config/blocks.json` currently defines `139` blocks (vanilla has hundreds+).
- Biomes: `BiomeId` currently defines `14` biomes.
- Mob types: `MobType` currently defines `12` mob types.

### 1.2 Worldgen and “places to go”

Vanilla worldgen includes many biomes and a large structure set (strongholds, temples, monuments, bastions, etc.) with tightly-coupled progression.

mdminecraft has deterministic worldgen and multiple dimensions, but structures and biome variety are **not vanilla-complete**:

- Structure set is smaller and often “lite” versions (implementation prioritizes determinism + playability over exact layouts).
- Many vanilla structure-specific mechanics are missing or simplified (e.g., jigsaw villages, stronghold portal rooms, structure loot variety, mob spawners behaviors).

### 1.3 Block models, states, and collisions

Vanilla’s blockstate/model system (JSON models, blockstate properties, render layers, collision shapes) is extensive.

mdminecraft supports many important non-cube blocks and connectivity, but differs in how it’s encoded/extended:

- State encoding and block modeling are engine-native (not vanilla’s JSON model system).
- Some blocks support waterlogging and complex collisions, but coverage is not universal.
- Many nuanced placement/update rules still differ (support checks, neighbor update ordering, block-specific quirks).

### 1.4 Rendering layers (cutout vs translucent)

Vanilla uses multiple render layers (solid/cutout/cutout_mipped/translucent) plus specialized sorting behavior.

mdminecraft currently:

- Uses greedy meshing for cubes and bespoke meshing for many non-cube blocks.
- Uses **alpha testing** for “cutout-like” textures.
- Uses a dedicated **alpha-blended pass** (fluids + ice + glass/glass panes) so translucency blends without hiding underlying geometry.
- Routes translucency via a per-vertex alpha flag driven by the `mdm:render/translucent` block tag (avoids hard-coded shader allowlists).
- Alpha-pass special shading (fluids/glass/portals) is driven by per-vertex metadata (alpha-kind + flow direction), avoiding hard-coded numeric block IDs in the voxel shader.
- Uses separate **opaque vs alpha index buffers** so chunks with translucency don’t re-draw the entire chunk mesh twice per frame.
- Runtime atlas upload generates **mipmaps** (alpha-aware, with padding bleed) and uses linear mip filtering so distant blocks shimmer/popup less (more vanilla-ish).
- Supports basic biome tinting for grass/leaves/water (chunk-sampled), driven by `mdm:render/tint/*` tags (grass/leaves) plus a per-chunk water tint uniform.
- Grass block sides now apply biome tint only to the top “grass” band (vanilla-ish overlay behavior; avoids tinting the dirt portion).
- Sky + fog are now environment-aware (dimension-colored Nether/End atmosphere; biome-tinted underwater fog), and the Overworld sky + distance fog are now biome-tinted (temperature-based, vanilla-ish); underwater now includes a lite full-screen color grading approximation, but exact vanilla per-biome sky/fog/water-fog rules remain simplified.
- Overworld night sky now includes a simple procedural star field (vanilla-ish), suppressed during precipitation.
- Voxel lighting is now dimension-aware: Nether/End use constant low ambient (no sun-driven contribution), better matching vanilla’s feel.
- Lighting propagation now supports per-block attenuation (`light_opacity` 0..=15); e.g., `*_leaves=1`, `water/ice=3`, `lava=15` (vanilla-ish shade/underwater darkness). Waterlogged blocks attenuate like water for lighting propagation, while remaining decoupled from render-layer opacity.
- Block-light emission is now data-driven via `light_emission` (0..=15) in `blocks.json` (content-pack friendly); legacy `emissive: true` is accepted as a fallback (treated as 15 when `light_emission` is omitted), and stateful emitters override base emission even when they evaluate to `0`; portals now emit vanilla-ish block light (Nether portal: 11; End portal: 15).
- Uses a Minecraft-like **ambient occlusion** factor for greedy-meshed cube faces (per-vertex AO packed into the existing vertex format), but it is still an approximation vs vanilla’s smooth lighting model (especially with greedy meshing).
- Implements a vanilla-ish **smooth lighting** approximation for greedy-meshed cube faces by sampling and averaging neighbor light per vertex (still simplified vs vanilla’s exact light+AO rules).
- Still lacks the full vanilla separation/ordering behavior for *all* translucent blocks (coverage is currently explicit-list rather than “render layer” driven).
- Leaf tint fidelity is improved: birch + spruce leaves use fixed tints (vanilla-ish), while other leaves still use biome foliage tint.

### 1.5 Fluids (rules and visuals)

Vanilla fluids include nuanced spread rules (including many edge-cases), waterlogging across many blocks, and distinctive visuals (sloped surfaces, flow textures, overlays).

mdminecraft differs:

- Simulation rules are simplified (while deterministic).
- Waterlogging is implemented for a subset of blocks.
- Rendering is improved (waterlogged volumes + alpha blending + per-corner sloped fluid surfaces + a coarse flow-direction animation cue), but remains visually simplified vs vanilla (no true vanilla-like flow textures/overlays).
- Water surface tint is now biome-driven (chunk-sampled), and underwater fog now uses vanilla-ish `water_fog_color` defaults; vanilla’s exact colormap behavior and underwater post-processing remain simplified.

---

## 2) Systems-by-area comparison (delta list)

### 2.1 Dimensions & progression

**Vanilla:** Overworld → Nether → End with stronghold-based End access, dimension-specific blocks/mobs/biomes, and many “gated” progression beats.  
**mdminecraft:** multiple dimensions exist with deterministic travel mechanics, but progression differs:

- End access path and dimension gating may diverge from vanilla’s stronghold/eye tracking loop.
- Dimension-specific content is smaller (blocks, mobs, structures, and biome variety).

### 2.2 Items, inventories, and metadata

**Vanilla:** extensive item metadata (NBT), many container types, shulker boxes, bundles, attributes, trims, etc.  
**mdminecraft:** implements core survival inventory and many machines/containers, but:

- No vanilla NBT compatibility; per-item metadata breadth is smaller.
- Many vanilla items and container variants are missing.

### 2.3 Crafting and processing graph

**Vanilla:** shaped/shapeless crafting plus smithing, stonecutting, blasting, smoking, campfires, etc., with a recipe book UX and tags.  
**mdminecraft:** shaped crafting + deterministic tag ingredients exist, but:

- Processing stations breadth and recipe volume are smaller than vanilla.
- Recipe book/advancement-driven unlock UX is not vanilla-equivalent.

### 2.4 Combat and entity AI

**Vanilla:** many mobs with sophisticated goal AI, pathfinding, difficulty scaling, behaviors (ranged/melee/special attacks), breeding, and interaction ecosystems.  
**mdminecraft:** deterministic AI/pathing exists, but:

- Entity catalog is smaller and behaviors are simplified “lite” versions.
- Undead daylight burning is now implemented for zombies/skeletons (daytime + sky exposure; rain/water extinguish), but helmets and some block-shape sky-ray edge cases are still not modeled.
- Skeletons now have a basic deterministic ranged attack (arrows), and arrows can now damage the player; aiming/LOS/difficulty scaling are still simplified vs vanilla.
- Skeleton loot now includes arrows (in addition to bones), improving survival loop parity for archery.
- Mob burning now deals damage reliably even when fire is refreshed each tick (needed for undead daylight burn parity).
- Many vanilla interaction loops are missing (breeding, raids, curing, reputation, etc.).
- Combat timing/knockback/armor/enchants may deviate from vanilla’s tuned rules.

### 2.5 Spawn rules and simulation edge cases

**Vanilla:** complex spawn/despawn rules (light-level, biome, structure, local caps, pack spawning, height rules), plus many hard-coded exceptions.  
**mdminecraft:** implements recognizable rules (including light gating) but:

- Spawn tables and caps are simpler and often content-pack driven.
- Many edge cases and per-mob rules differ.

### 2.6 Redstone and automation fidelity

**Vanilla:** very subtle update ordering and quasi-undefined behaviors relied upon by players; huge ecosystem of components and interactions.  
**mdminecraft:** implements many major automation primitives, but:

- Tick/update ordering and some behaviors are intentionally simplified.
- Several vanilla behaviors are missing or restricted (example: piston facing coverage, dispenser behaviors breadth).

### 2.7 UI/UX parity

**Vanilla:** highly polished inventory, recipe book, advancements, statistics, multiplayer server list UX, accessibility options.  
**mdminecraft:** functional UIs exist but are not vanilla-equivalent:

- Layouts and flows differ (Egui-driven screens vs vanilla menus).
- Missing many “meta” systems (advancements, stats, narrator/accessibility parity).

### 2.8 Persistence and world format

**Vanilla:** Anvil region + NBT for entities/block entities/player data, plus data packs/resource packs.  
**mdminecraft:** deterministic, versioned persistence exists but is a different format:

- Not compatible with vanilla worlds.
- Schema/version migrations are engine-native.

### 2.9 Multiplayer and ecosystem

**Vanilla:** mature server ecosystem, auth/account system, mod/plugin ecosystem.  
**mdminecraft:** QUIC+TLS networking, server-authoritative sim and deterministic replay:

- Not protocol-compatible with vanilla servers/clients.
- Permissions/ops/audit/selectors/mod APIs differ (or are more limited).

### 2.10 Weather and environment

**Vanilla:** biome-specific precipitation (rain/snow), lightning/thunder, temperature/height effects, and long-tail accumulation rules (snow layers, ice forming, etc.).  
**mdminecraft:** deterministic global weather state and strong visual atmosphere work, but:

- Weather is a global toggle/cycle (not a full vanilla biome- + height-driven weather model).
- Precipitation particles are biome-aware (rain↔snow via biome temperature with a simple elevation bias), suppressed in deserts (vanilla-ish) and under cover (no “rain indoors”), and Overworld-only (no Nether/End precipitation); limited accumulation exists (nearby water can freeze into ice in cold biomes, and snow can accumulate as **snow layers** during cold precipitation, suppressed near strong block-light like torches, with snow/ice melting back under strong block-light and (partially) under strong **daylight skylight** in warm biomes), but other long-tail rules are not vanilla-complete.
- Thunderstorms exist (`WeatherState::Thunderstorm`) with deterministic Overworld lightning flashes and darker overcast shading; lightning strikes now apply basic gameplay effects (damage + ignition, and charging creepers), but many vanilla interactions (block fires, lightning rods, etc.) are still not implemented.

---

## 3) “Vanilla-feel” gap backlog (actionable)

Highest ROI remaining gaps (grouped):

1. **Rendering fidelity**
   - Expand translucent-block coverage beyond the current tagged set (fluids + ice + glass/glass panes) toward vanilla’s render-layer model.
   - Fluid visuals are closer (flow-direction-aware scrolling), but still simplified vs vanilla’s full animated texture/model rules.
2. **Content breadth**
   - Expand block families and decorative blocks (stairs/slabs/walls variants; biome blocks).
   - Expand mobs and drops (including more passive/hostile variety and “identity” behaviors).
3. **Worldgen landmarks**
   - Add more vanilla-recognizable structures (temples/monuments/stronghold parity path).
   - Improve biome variety/rarity distribution and biome-specific vegetation.
4. **Rule fidelity**
   - Refine redstone ordering/tick scheduling to match common contraptions.
   - Refine combat timing and knockback/damage model toward vanilla.
5. **UX parity**
   - Inventory/recipe UX improvements (recipe book-like affordances; accessibility toggles).

For the detailed staged execution plan and current status, see:

- `wrk_docs/2025.12.23 - PLN - Feature Gap Closure Plan toward Vanilla Minecraft.md`
- `wrk_journals/2025.12.23 - JRN - Vanilla Parity Implementation.md`
